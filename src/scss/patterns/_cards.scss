// Cards
// =====

[data-layout='card-groups'] {
  margin: var(--gutter) 0;
}

[data-layout='cards'] {
  --gap: var(--double-gutter) var(--gutter);
  align-items: start;
  display: grid;
  font-size: var(--font-small);
  grid-gap: var(--gap);
  grid-template-columns: repeat(auto-fill, minmax(18em, 1fr));
  justify-content: space-evenly;
  margin: 0 var(--double-gutter);

  @include above('page-break') {
    --gap: var(--spacer) var(--double-gutter);
  }

  @include above('wide') {
    --gap: var(--spacer);
  }
}

// Groups
// ------

[data-card-group] {
  display: grid;
  grid-template: 'grouper list' auto / auto minmax(0, 1fr);
  margin: var(--spacer) 0;
  padding: var(--spacer) 0;
}

[data-cards='grouper'] {
  @include font-family('midnight');
  font-size: var(--font-xsmall);
  grid-area: grouper;
  margin: 0;
  padding: 0 var(--half-shim);
  text-transform: uppercase;
  writing-mode: vertical-rl;

  span {
    @include fancy-text;
    position: sticky;
    top: calc(var(--rhythm) * 2);
  }
}

// Items
// -----

[data-card='item'] {
  --feature: -0.006turn;

  &:nth-child(3n),
  &:nth-last-child(7n-3) {
    --feature: 0.006turn;
  }

  &[data-feature] {
    background: var(--feature-gradient);
    margin: calc(var(--half-shim) * -1);
    padding: var(--quarter-shim);
  }

  &[data-old] {
    --link-color: var(--text-light);
    color: var(--text-light);
    font-style: italic;
  }
}

[data-card='inner'] {
  [data-feature] & {
    background: var(--bg);
    border: 1px solid var(--action);
    padding: var(--shim);
    transform: rotate(var(--feature, -0.006turn));
  }
}

// Content
// -------

[data-card='title'] {
  line-height: var(--rhythm);
  margin: 0;
}

[data-card='summary'] {
  color: var(--text-light);
  font-style: italic;
}

.pinned {
  color: var(--text-highlight);
}

.event-type {
  color: var(--text-light);
  font-style: italic;
}
