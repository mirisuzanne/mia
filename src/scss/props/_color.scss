@use '../../../node_modules/cascading-color-systems' as ccs with (
  $hues: (
    'prime': 330,
    'accent': 195,
    'neutral': 195,
  ),
  $saturation: 80%,
  $lightness: 50%,
  $contrast: 45%,
  $fade-background: 20%,
  $fades: 0.75,
  $gradients: true,
  $build: true,
);

[data-ccs-colors] {
  --img-bright: calc(90% + 10% * var(--ccs-mode));
  --ccs-neutral--theme: var(--ccs-h--accent);

  // flip the shadow based on the mode
  --text-shadow-off: calc(1px * var(--ccs-mode));
  --text-shadow-off-invert: calc(-1px * var(--ccs-mode));
  --box-shadow-off: calc(var(--half-shim) * var(--ccs-mode));
  --box-shadow-off-invert: calc(var(--half-shim) * var(--ccs-mode) * -1);

  --text-shadow: var(--text-shadow-off) var(--text-shadow-off) 0
    var(--ccs--bg-full);
  --text-shadow-invert: var(--text-shadow-off-invert)
    var(--text-shadow-off-invert) 0 var(--ccs--fg-full);
  --box-shadow: var(--box-shadow-off) var(--box-shadow-off) 0
    var(--ccs--bg-full);
  --box-shadow-invert: var(--box-shadow-off-invert) var(--box-shadow-off-invert)
    0 var(--ccs--fg-full);

  --feature-gradient: linear-gradient(
    to bottom right,
    var(--ccs-prime--fg1),
    var(--ccs-accent--fg1)
  );

  // color props set directly by the theme
  --bg: var(--ccs-accent--bg4);
  --overlay: hsla(
    var(--ccs-h--accent),
    var(--ccs-s--bg4),
    var(--ccs-l--bg4),
    0.85
  );
  --callout: var(--ccs-accent--bg3);
  --text: var(--ccs-neutral--fg3);
  --text-light: var(--ccs-neutral--fg2);
  --text-highlight: var(--ccs-accent--fg1);
  --border: var(--ccs-neutral--fg1);
  --border-light: var(--ccs-neutral);

  --action: var(--ccs-prime--fg2);
  --action-hover: var(--ccs-prime--fg3);

  --ccs-background: var(--bg);
  --ccs-color: var(--text);
  text-shadow: var(--text-shadow);
}

[data-ccs-theme] {
  --ccs-accent--theme: #{ccs.if-mode(var(--ccs-theme--1), var(--ccs-theme--2))};
}

[data-ccs-theme='mia'] {
  --ccs-theme--1: 330;
  --ccs-theme--2: 195;
  --ccs-prime--theme: #{ccs.if-mode(var(--ccs-theme--2), var(--ccs-theme--1))};
  --ccs-custom-hue: none;
}

[data-ccs-theme='today'] {
  --ccs-h--prime: calc(
    var(--ccs-mode--zero) * #{random(360)} + var(--ccs-invert--zero) * #{random(
        360
      )}
  );
  --ccs-accent--theme: calc(
    var(--ccs-invert--zero) * #{random(360)} + var(--ccs-mode--zero) * #{random(
        360
      )}
  );
  --ccs-custom-hue: none;
}

[data-ccs-theme='monochrome'] {
  --ccs-accent--theme: var(--ccs-h--prime);
}

[data-ccs-theme='contrast'] {
  --ccs-custom-hue: none;
  --ccs-custom-saturation: none;
}
