{% import "utility.macros.njk" as utility %}


{% macro main(
  content,
  section=none,
  erasure=false,
  page=true
) %}
  {% if content %}
    <main
      data-area="main-left"
      data-flow="grid">
      {{ inner(content, section, erasure) if page else content | safe }}
    </main>
  {% endif %}
{% endmacro %}


{% macro inner(
  content,
  section,
  erasure
) %}
  <div
    data-main
    {{ utility.attr_if('data-section', section.name or 'content') }}
    {{ utility.attr_if('data-area', section.area or true) }}
    {{ utility.style_if(section.style) }}>
    <div
      {{ utility.attr_if('data-content', section.content or true) }}
      {{ utility.attr_if('data-flow', section.flow) }}
      {{ utility.attr_if('data-erase', 'off' if erasure else none) }}
      data-typeset>
      {{ content | typogr | safe }}
    </div>
  </div>
{% endmacro %}
