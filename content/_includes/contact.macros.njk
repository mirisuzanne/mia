{% import "utility.macros.njk" as utility %}

{% macro form(
  next='/contact/thanks/',
  submit='send',
  attrs={},
  url='/contact/'
) %}
<form
  name="contact"
  method="POST"
  action="{{ next }}"
  netlify-honeypot="subject"
  data-netlify="true"
  {{ utility.show_attrs(attrs) }}>
  <div data-fieldgroup="contact-info">
    <label data-field="name">
      <span data-label>Name:</span>
      <input
        data-input="text"
        type="text"
        name="name"
        required />
    </label>
    <label data-field="email">
      <span data-label>Email:</span>
      <input
        data-input="text"
        type="email"
        name="email"
        required />
    </label>
  </div>
  <label data-field="message">
    <span data-label>Message:</span>
    <textarea
      data-input="text area"
      name="message"
      required></textarea>
  </label>
  <label hidden>
    <span>Don't fill out this field:</span>
    <input name="subject" />
  </label>
  <label hidden>
    <span>URL:</span>
    <input name="url" value="{{ url }}" />
  </label>
  <div data-actions>
    <button
      data-btn="submit"
      type="submit">
      {{ submit }}
    </button>
  </div>
</form>
{% endmacro %}

{% macro links(social) %}
<ul>
  {% for item in social %}
  {% set content %}{% if item.user %}{{ item.user }} on {% endif %}{{ item.site }}{% endset %}
  <li>
    {{ utility.link_if(
      content,
      item.url,
      {
        'rel': 'me',
        'class': ['u-url', item.class] | join(' ')
      }
    ) }}
  </li>
  {% endfor %}
</ul>
{% endmacro %}
